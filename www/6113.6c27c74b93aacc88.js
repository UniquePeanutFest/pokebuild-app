"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6113],{8599:(q,j,b)=>{b.d(j,{O:()=>E});var v=b(467),P=b(1360),w=b(369);let E=(()=>{var y;class S{constructor(t){this.storage=t,this._storage=null,this.teams=[],this.initialized=!1,this.typeEffectiveness={normal:{rock:.5,ghost:0,steel:.5,fighting:2},fire:{fire:.5,water:2,grass:.5,ice:.5,bug:.5,rock:2,dragon:.5,steel:.5,ground:2},water:{fire:.5,water:.5,grass:2,electric:2,ice:.5,steel:.5},electric:{electric:.5,ground:2,flying:.5,steel:.5},grass:{fire:2,water:.5,grass:.5,poison:2,ground:.5,flying:2,bug:2,ice:2},ice:{fire:2,ice:.5,fighting:2,rock:2,steel:2},fighting:{flying:2,psychic:2,bug:.5,rock:.5,dark:.5,fairy:2},poison:{grass:.5,fighting:.5,poison:.5,ground:2,psychic:2,bug:.5,fairy:.5},ground:{water:2,grass:2,electric:0,poison:.5,rock:.5,ice:2},flying:{electric:2,grass:.5,fighting:.5,bug:.5,rock:2,ice:2},psychic:{fighting:.5,psychic:.5,bug:2,ghost:2,dark:2},bug:{fire:2,grass:.5,fighting:.5,ground:.5,flying:2,rock:2},rock:{normal:.5,fire:.5,water:2,grass:2,fighting:2,poison:.5,ground:2,steel:2},ghost:{normal:0,fighting:0,poison:.5,bug:.5,ghost:2,dark:2},dragon:{dragon:2,ice:2,fairy:2},dark:{fighting:2,bug:2,ghost:.5,dark:.5,fairy:2},steel:{fire:2,water:.5,electric:.5,ice:.5,rock:.5,steel:.5,fighting:2,ground:2},fairy:{fighting:.5,poison:2,bug:.5,dragon:0,dark:.5,steel:2}},this.roles={"Atacante f\xedsico":{statsPriority:["attack","speed"],description:"Pok\xe9mon con alto ataque f\xedsico para infligir da\xf1o r\xe1pido"},"Atacante especial":{statsPriority:["special-attack","speed"],description:"Pok\xe9mon con alto ataque especial para infligir da\xf1o r\xe1pido"},"Tanque f\xedsico":{statsPriority:["hp","defense"],description:"Pok\xe9mon con alta defensa f\xedsica para absorber ataques"},"Tanque especial":{statsPriority:["hp","special-defense"],description:"Pok\xe9mon con alta defensa especial para absorber ataques"},"Sweeper PvE":{statsPriority:["attack","special-attack","speed"],description:"Pok\xe9mon capaz de barrer equipos enteros de la IA"},"Setup Sweeper":{statsPriority:["speed","attack","special-attack"],description:"Pok\xe9mon que se potencia y luego barre al equipo rival"},"Revenge Killer":{statsPriority:["speed","attack","special-attack"],description:"Pok\xe9mon veloz para rematar oponentes debilitados"},"Wall Breaker":{statsPriority:["attack","special-attack"],description:"Pok\xe9mon con ataques potentes para romper defensas"},Soporte:{statsPriority:["hp","defense","special-defense"],description:"Pok\xe9mon que apoya al equipo con movimientos de estado"}},this.init()}init(){var t=this;return(0,v.A)(function*(){const e=yield t.storage.create();t._storage=e,yield t.loadTeams(),t.initialized=!0})()}ensureInitialized(){var t=this;return(0,v.A)(function*(){t.initialized||(yield t.init())})()}loadTeams(){var t=this;return(0,v.A)(function*(){var e;const i=yield null===(e=t._storage)||void 0===e?void 0:e.get("pokemon-teams");i&&(t.teams=i)})()}saveTeams(){var t=this;return(0,v.A)(function*(){var e;yield null===(e=t._storage)||void 0===e?void 0:e.set("pokemon-teams",t.teams)})()}refreshTeams(){var t=this;return(0,v.A)(function*(){yield t.ensureInitialized(),yield t.loadTeams()})()}getTeams(){var t=this;return(0,v.A)(function*(){yield t.ensureInitialized();const e=t.teams.map(i=>{try{return t.isTeamCorrupt(i),i}catch(n){return{...i,isCorrupt:!0,corruptionReason:n.message||"Datos del equipo corruptos"}}});return t.teams=e,[...t.teams]})()}getTeam(t){var e=this;return(0,v.A)(function*(){return yield e.ensureInitialized(),e.teams.find(i=>i.id===t)})()}createTeam(t){var e=this;return(0,v.A)(function*(i,n="pve"){yield e.ensureInitialized();const c={id:Date.now().toString(),name:i,pokemons:[],createdAt:new Date,updatedAt:new Date,gameMode:n};return e.teams.push(c),yield e.saveTeams(),c}).apply(this,arguments)}updateTeam(t){var e=this;return(0,v.A)(function*(){yield e.ensureInitialized();const i=e.teams.findIndex(n=>n.id===t.id);return-1!==i&&(t.updatedAt=new Date,e.teams[i]=t,yield e.saveTeams()),t})()}deleteTeam(t){var e=this;return(0,v.A)(function*(){yield e.ensureInitialized(),e.teams=e.teams.filter(i=>i.id!==t),yield e.saveTeams()})()}addPokemonToTeam(t,e){var i=this;return(0,v.A)(function*(){yield i.ensureInitialized();const n=yield i.getTeam(t);if(n){var c,u,r,s,o,a;if(n.pokemons.length>=6)throw new Error("El equipo ya tiene 6 Pok\xe9mon (m\xe1ximo)");let d;if(d="pokemon"in e?e:{pokemon:e,form:"normal"},n.pokemons.some(m=>m.pokemon.id===d.pokemon.id))throw new Error("Este Pok\xe9mon ya est\xe1 en el equipo");d.adjustedStats={hp:(null===(c=d.pokemon.stats.find(m=>"hp"===m.stat.name))||void 0===c?void 0:c.base_stat)||0,attack:(null===(u=d.pokemon.stats.find(m=>"attack"===m.stat.name))||void 0===u?void 0:u.base_stat)||0,defense:(null===(r=d.pokemon.stats.find(m=>"defense"===m.stat.name))||void 0===r?void 0:r.base_stat)||0,"special-attack":(null===(s=d.pokemon.stats.find(m=>"special-attack"===m.stat.name))||void 0===s?void 0:s.base_stat)||0,"special-defense":(null===(o=d.pokemon.stats.find(m=>"special-defense"===m.stat.name))||void 0===o?void 0:o.base_stat)||0,speed:(null===(a=d.pokemon.stats.find(m=>"speed"===m.stat.name))||void 0===a?void 0:a.base_stat)||0},"mega"===d.form&&d.megaVariant?d.adjustedStats=i.adjustStatsForMega(d.pokemon,d.megaVariant):"gigantamax"===d.form&&(d.adjustedStats=i.adjustStatsForGigantamax(d.pokemon)),n.pokemons.push(d),n.updatedAt=new Date,yield i.updateTeam(n)}return n})()}adjustStatsForMega(t,e){var i,n,c,u,r,s,o,a,d,p,m,k,h,f,g,T,A,C;return e.stats?{hp:(null===(i=e.stats.find(l=>"hp"===l.stat.name))||void 0===i?void 0:i.base_stat)||(null===(n=t.stats.find(l=>"hp"===l.stat.name))||void 0===n?void 0:n.base_stat)||0,attack:(null===(c=e.stats.find(l=>"attack"===l.stat.name))||void 0===c?void 0:c.base_stat)||(null===(u=t.stats.find(l=>"attack"===l.stat.name))||void 0===u?void 0:u.base_stat)||0,defense:(null===(r=e.stats.find(l=>"defense"===l.stat.name))||void 0===r?void 0:r.base_stat)||(null===(s=t.stats.find(l=>"defense"===l.stat.name))||void 0===s?void 0:s.base_stat)||0,"special-attack":(null===(o=e.stats.find(l=>"special-attack"===l.stat.name))||void 0===o?void 0:o.base_stat)||(null===(a=t.stats.find(l=>"special-attack"===l.stat.name))||void 0===a?void 0:a.base_stat)||0,"special-defense":(null===(d=e.stats.find(l=>"special-defense"===l.stat.name))||void 0===d?void 0:d.base_stat)||(null===(p=t.stats.find(l=>"special-defense"===l.stat.name))||void 0===p?void 0:p.base_stat)||0,speed:(null===(m=e.stats.find(l=>"speed"===l.stat.name))||void 0===m?void 0:m.base_stat)||(null===(k=t.stats.find(l=>"speed"===l.stat.name))||void 0===k?void 0:k.base_stat)||0}:{hp:(null===(h=t.stats.find(l=>"hp"===l.stat.name))||void 0===h?void 0:h.base_stat)||0,attack:Math.round(1.3*((null===(f=t.stats.find(l=>"attack"===l.stat.name))||void 0===f?void 0:f.base_stat)||0)),defense:Math.round(1.2*((null===(g=t.stats.find(l=>"defense"===l.stat.name))||void 0===g?void 0:g.base_stat)||0)),"special-attack":Math.round(1.3*((null===(T=t.stats.find(l=>"special-attack"===l.stat.name))||void 0===T?void 0:T.base_stat)||0)),"special-defense":Math.round(1.2*((null===(A=t.stats.find(l=>"special-defense"===l.stat.name))||void 0===A?void 0:A.base_stat)||0)),speed:Math.round(1.1*((null===(C=t.stats.find(l=>"speed"===l.stat.name))||void 0===C?void 0:C.base_stat)||0))}}adjustStatsForGigantamax(t){var e,i,n,c,u,r;return{hp:2*((null===(e=t.stats.find(s=>"hp"===s.stat.name))||void 0===e?void 0:e.base_stat)||0),attack:Math.round(1.1*((null===(i=t.stats.find(s=>"attack"===s.stat.name))||void 0===i?void 0:i.base_stat)||0)),defense:Math.round(1.1*((null===(n=t.stats.find(s=>"defense"===s.stat.name))||void 0===n?void 0:n.base_stat)||0)),"special-attack":Math.round(1.1*((null===(c=t.stats.find(s=>"special-attack"===s.stat.name))||void 0===c?void 0:c.base_stat)||0)),"special-defense":Math.round(1.1*((null===(u=t.stats.find(s=>"special-defense"===s.stat.name))||void 0===u?void 0:u.base_stat)||0)),speed:(null===(r=t.stats.find(s=>"speed"===s.stat.name))||void 0===r?void 0:r.base_stat)||0}}removePokemonFromTeam(t,e){var i=this;return(0,v.A)(function*(){yield i.ensureInitialized();const n=yield i.getTeam(t);return n&&(n.pokemons=n.pokemons.filter(c=>c.pokemon.id!==e),n.updatedAt=new Date,yield i.updateTeam(n)),n})()}updateTeamGameMode(t,e){var i=this;return(0,v.A)(function*(){yield i.ensureInitialized();const n=yield i.getTeam(t);return n&&(n.gameMode=e,n.updatedAt=new Date,yield i.updateTeam(n)),n})()}analyzeTeam(t){var e=this;return(0,v.A)(function*(){yield e.ensureInitialized();const i=yield e.getTeam(t),n=(null==i?void 0:i.gameMode)||"pve",c={typeCount:{},weaknesses:{},resistances:{},coverage:[],recommendations:[],teamRoles:{},missingRoles:[],pokemonAnalysis:[],teamWeaknesses:[],teamStrengths:[],balanceScore:5};return!i||0===i.pokemons.length||(e.analyzeTypes(i,c),e.analyzeRoles(i,c,n),e.analyzeTeamWeaknesses(c),e.generateRecommendations(i,c,n)),c})()}analyzeTypes(t,e){t.pokemons.forEach(n=>{n.pokemon.types.forEach(c=>{const u=c.type.name;e.typeCount[u]=(e.typeCount[u]||0)+1})});const i=["normal","fire","water","electric","grass","ice","fighting","poison","ground","flying","psychic","bug","rock","ghost","dragon","dark","steel","fairy"];e.coverage=i.filter(n=>!e.typeCount[n]),i.forEach(n=>{let c=0,u=0;t.pokemons.forEach(r=>{const s=r.pokemon.types.map(a=>a.type.name);let o=1;s.forEach(a=>{this.typeEffectiveness[a]&&void 0!==this.typeEffectiveness[a][n]&&(o*=this.typeEffectiveness[a][n])}),o>1?c++:o<1&&u++}),c>0&&(e.weaknesses[n]=c),u>0&&(e.resistances[n]=u)})}analyzeRoles(t,e,i){Object.keys(this.roles).forEach(n=>{e.teamRoles[n]=0}),t.pokemons.forEach(n=>{var c,u,r,s,o,a;const d={pokemon:n.pokemon,roles:[],recommendedMovesTypes:[]},p={hp:this.normalizeStatValue((null===(c=n.adjustedStats)||void 0===c?void 0:c.hp)||0),attack:this.normalizeStatValue((null===(u=n.adjustedStats)||void 0===u?void 0:u.attack)||0),defense:this.normalizeStatValue((null===(r=n.adjustedStats)||void 0===r?void 0:r.defense)||0),"special-attack":this.normalizeStatValue((null===(s=n.adjustedStats)||void 0===s?void 0:s["special-attack"])||0),"special-defense":this.normalizeStatValue((null===(o=n.adjustedStats)||void 0===o?void 0:o["special-defense"])||0),speed:this.normalizeStatValue((null===(a=n.adjustedStats)||void 0===a?void 0:a.speed)||0)};Object.entries(this.roles).forEach(([h,f])=>{if("pve"===i&&h.includes("PvP")||"pvp"===i&&h.includes("PvE"))return;let g=0;f.statsPriority.forEach((T,A)=>{g+=p[T]*(f.statsPriority.length-A)}),g=Math.min(10,Math.max(0,g/(1.5*f.statsPriority.length))),g>=5&&(d.roles.push({role:h,description:f.description,suitability:Math.round(10*g)/10}),e.teamRoles[h]++)});const m=n.pokemon.types.map(h=>h.type.name);Object.keys(this.typeEffectiveness).forEach(h=>{let f=!1;m.forEach(g=>{this.typeEffectiveness[h]&&this.typeEffectiveness[h][g]&&this.typeEffectiveness[h][g]>1&&(f=!0)}),f&&!d.recommendedMovesTypes.includes(h)&&d.recommendedMovesTypes.push(h)}),e.pokemonAnalysis.push(d)}),Object.entries(this.roles).forEach(([n,c])=>{"pve"===i&&n.includes("PvP")||"pvp"===i&&n.includes("PvE")||0===e.teamRoles[n]&&e.missingRoles.push(n)})}analyzeTeamWeaknesses(t){Object.entries(t.weaknesses).forEach(([e,i])=>{i>=2&&t.teamWeaknesses.push({type:e,count:i,severity:Math.min(5,Math.round(1.5*i))})}),t.teamWeaknesses.sort((e,i)=>i.severity-e.severity),Object.entries(t.resistances).forEach(([e,i])=>{i>=2&&t.teamStrengths.push(e)})}generateRecommendations(t,e,i){if(t.pokemons.length<6&&e.recommendations.push(`Tu equipo tiene ${t.pokemons.length} Pok\xe9mon. Un equipo completo deber\xeda tener 6.`),e.teamWeaknesses.length>0){const s=e.teamWeaknesses.filter(o=>o.severity>=4).map(o=>o.type);s.length>0&&e.recommendations.push(`\xa1Atenci\xf3n! Tu equipo tiene debilidades cr\xedticas contra tipos: ${s.join(", ")}. Considera a\xf1adir Pok\xe9mon que resistan estos tipos.`)}const n=t.pokemons.some(s=>"mega"===s.form||"gigantamax"===s.form),c=t.pokemons.some(s=>{var o;return null===(o=s.role)||void 0===o?void 0:o.includes("Tera")});if(!n&&"pvp"===i){const s=this.findDynamaxCandidates(t);if(s.length>0){const o=s.map(d=>d.pokemon.name).join(", ");e.recommendations.push(`Considera designar un Pok\xe9mon para Dinamaxizar en combate. Buenos candidatos son: ${o}. La mec\xe1nica Dynamax duplica los PS y permite usar movimientos Max con efectos secundarios beneficiosos.`),e.recommendations.push("Los ataques Max pueden proporcionar bonificaciones de campo: Max Airstream (+1 Velocidad), Max Quake (+1 Def. Esp.), Max Knuckle (+1 Ataque). Aprov\xe9chalos para potenciar todo tu equipo.");const a=t.pokemons.filter(d=>["charizard","lapras","gengar","snorlax","pikachu","machamp","coalossal"].includes(d.pokemon.name.toLowerCase()));if(a.length>0){const d=a.map(p=>p.pokemon.name).join(", ");e.recommendations.push(`Tienes ${d} que pueden usar formas Gigantamax con movimientos G-Max \xfanicos. Estos movimientos tienen efectos especiales como poner pantallas (G-Max Resonance de Lapras) o causar da\xf1o residual (G-Max Wildfire de Charizard).`)}}}if(!c&&"pvp"===i){e.recommendations.push("Considera asignar tipos Tera estrat\xe9gicos a tus Pok\xe9mon. La Teracristalizaci\xf3n permite cambiar el tipo durante el combate, ganando STAB en ese nuevo tipo y manteniendo los STAB originales si coinciden.");const s=t.pokemons.filter(a=>{var d,p;return((null===(d=a.adjustedStats)||void 0===d?void 0:d.attack)||0)>((null===(p=a.adjustedStats)||void 0===p?void 0:p["special-attack"])||0)}),o=t.pokemons.filter(a=>{var d,p;return((null===(d=a.adjustedStats)||void 0===d?void 0:d["special-attack"])||0)>((null===(p=a.adjustedStats)||void 0===p?void 0:p.attack)||0)});if(s.length>0&&e.recommendations.push(`Para ${s[0].pokemon.name}, considera Tera Normal para potenciar movimientos como Extreme Speed o Tera Lucha para movimientos como Close Combat, obteniendo STAB adicional.`),o.length>0&&e.recommendations.push(`Para ${o[0].pokemon.name}, considera Tera Hada para potenciar Moonblast o Tera Fuego para movimientos como Flamethrower, aumentando significativamente su poder.`),e.teamWeaknesses.length>0){const a=e.teamWeaknesses[0].type;e.recommendations.push(`Para contrarrestar tu debilidad a ${a}, considera asignar un tipo Tera que resista o sea inmune a ${a}. Por ejemplo, Tera Fantasma para ser inmune a Lucha, o Tera Volador para ser inmune a Tierra.`)}}const u=this.recommendPowerfulCombinations(t);if(u&&e.recommendations.push(u),"pve"===i){if(e.weakAgainst=["dragon","ghost","dark"].filter(a=>e.weaknesses[a]&&e.weaknesses[a]>=2),e.strongAgainst=["grass","bug","electric"].filter(a=>e.resistances[a]&&e.resistances[a]>=2),e.teamRoles["Sweeper PvE"]>0||e.teamRoles["Atacante f\xedsico"]>=2||e.teamRoles["Atacante especial"]>=2||e.recommendations.push("Para PvE, es recomendable tener al menos un Pok\xe9mon con alto poder ofensivo y velocidad para barrer los equipos de la IA. Considera a\xf1adir un Pok\xe9mon con estad\xedsticas altas de ataque/velocidad."),Object.keys(e.typeCount).length<6&&e.recommendations.push(`Para PvE, es importante tener diversidad de tipos. Tu equipo usa ${Object.keys(e.typeCount).length} tipos diferentes. Considera a\xf1adir m\xe1s variedad para mejorar la cobertura contra diferentes gimnasios.`),!(e.typeCount.water&&e.typeCount.fire&&e.typeCount.grass)){const a=[];e.typeCount.water||a.push("Agua"),e.typeCount.fire||a.push("Fuego"),e.typeCount.grass||a.push("Planta"),e.recommendations.push(`Un n\xfacleo Agua-Fuego-Planta es muy eficaz en PvE. Tu equipo no tiene tipos: ${a.join(", ")}. Considera a\xf1adir estos tipos para mejorar el equilibrio.`)}}else{e.weakAgainst=["fighting","ground","fire"].filter(k=>e.weaknesses[k]&&e.weaknesses[k]>=2),e.strongAgainst=["water","flying","psychic"].filter(k=>e.resistances[k]&&e.resistances[k]>=2);const a=e.teamRoles["Setup Sweeper"]>0,d=e.teamRoles["Revenge Killer"]>0;e.teamRoles["Tanque f\xedsico"]>0||e.teamRoles["Tanque especial"]>0||e.recommendations.push("Para PvP, es importante tener al menos un Pok\xe9mon defensivo que pueda absorber ataques. Tu equipo carece de tanques f\xedsicos o especiales."),!a&&!d&&e.recommendations.push("Tu equipo PvP podr\xeda beneficiarse de un Pok\xe9mon que pueda potenciarse (Setup Sweeper) o un Revenge Killer r\xe1pido para rematar oponentes debilitados.");const p=e.teamRoles["Atacante f\xedsico"]||0,m=e.teamRoles["Atacante especial"]||0;p>=3&&m<=1?e.recommendations.push("Tu equipo depende demasiado de ataques f\xedsicos. Considera a\xf1adir m\xe1s atacantes especiales para evitar ser bloqueado por muros f\xedsicos."):m>=3&&p<=1&&e.recommendations.push("Tu equipo depende demasiado de ataques especiales. Considera a\xf1adir m\xe1s atacantes f\xedsicos para evitar ser bloqueado por muros especiales."),this.hasWeatherSetter(t)&&e.recommendations.push("Tu equipo incluye Pok\xe9mon que establecen clima. Considera usar Dynamax con movimientos como Max Geyser (lluvia), Max Flare (sol), Max Rockfall (arena) o Max Hailstorm (granizo) para establecer o extender condiciones clim\xe1ticas.")}let r=5;t.pokemons.length<=1?r=1:t.pokemons.length<=2?r=Math.min(r,3):t.pokemons.length<=3?r=Math.min(r,5):t.pokemons.length<=4?r=Math.min(r,7):t.pokemons.length<=5&&(r=Math.min(r,9)),(n||c)&&(r+=1),t.pokemons.length>=3?(Object.keys(e.typeCount).length>=6&&(r+=1),e.teamStrengths.length>=3&&(r+=1),6===t.pokemons.length&&Object.keys(e.typeCount).length>=8&&(r+=1)):(6===t.pokemons.length&&(r+=1),Object.keys(e.typeCount).length>=6&&(r+=.5),e.teamWeaknesses.length<=2&&(r+=.5),e.teamStrengths.length>=3&&(r+=.5)),e.teamWeaknesses.filter(s=>s.severity>=4).length>0&&(r-=2),e.missingRoles.length>3&&(r-=2),e.balanceScore=Math.min(10,Math.max(1,r)),e.balanceScore<4?e.recommendations.push(`Tu equipo tiene un balance bajo (${e.balanceScore}/10). Considera a\xf1adir m\xe1s Pok\xe9mon y diversidad de tipos.`):e.balanceScore>=8&&e.recommendations.push(`\xa1Felicidades! Tu equipo tiene un excelente balance (${e.balanceScore}/10).`)}hasWeatherSetter(t){const e=["drought","drizzle","sand-stream","snow-warning","desolate-land","primordial-sea","delta-stream"];return t.pokemons.some(i=>i.pokemon.abilities.some(n=>e.includes(n.ability.name.toLowerCase())))}findDynamaxCandidates(t){return t.pokemons.filter(e=>{var i,n,c;const u=(null===(i=e.adjustedStats)||void 0===i?void 0:i.hp)||0,r=(null===(n=e.adjustedStats)||void 0===n?void 0:n.attack)||0,s=(null===(c=e.adjustedStats)||void 0===c?void 0:c["special-attack"])||0;return u>=80&&(r>=90||s>=90)})}recommendPowerfulCombinations(t){const e=t.pokemons.some(r=>"chi-yu"===r.pokemon.name.toLowerCase()),i=t.pokemons.some(r=>"flutter mane"===r.pokemon.name.toLowerCase());if(e&&!i)return"Considera a\xf1adir Flutter Mane a tu equipo: su alto poder especial se beneficia enormemente de la habilidad Cuenta Ruina de Chi-Yu, que reduce la Defensa Especial de los oponentes en un 25%.";if(i&&!e)return"Considera a\xf1adir Chi-Yu a tu equipo: su habilidad Cuenta Ruina reduce la Defensa Especial de los oponentes en un 25%, beneficiando enormemente a Flutter Mane.";const n=t.pokemons.some(r=>"dondozo"===r.pokemon.name.toLowerCase()),c=t.pokemons.some(r=>"tatsugiri"===r.pokemon.name.toLowerCase());return n&&!c?"Considera a\xf1adir Tatsugiri a tu equipo: su habilidad Commander permite a Dondozo obtener +2 en todas sus estad\xedsticas cuando est\xe1n juntos.":c&&!n?"Considera a\xf1adir Dondozo a tu equipo: con Tatsugiri y su habilidad Commander, Dondozo obtiene +2 en todas sus estad\xedsticas.":!t.pokemons.some(r=>"incineroar"===r.pokemon.name.toLowerCase())&&t.pokemons.length<6?"Incineroar es uno de los Pok\xe9mon m\xe1s utilizados en VGC gracias a su habilidad Intimidaci\xf3n, versatilidad de movimientos (Fake Out, Parting Shot) y buen bulk. Considera a\xf1adirlo a tu equipo para un mejor control.":null}normalizeStatValue(t){return Math.min(10,Math.max(0,(t-30)/22.5))}isTeamCorrupt(t){if(!t.id||!t.name||!t.pokemons)throw new Error("Estructura del equipo incompleta");for(const e of t.pokemons){if(!e.pokemon)throw new Error("Datos de Pok\xe9mon incompletos");if(!e.pokemon.id||!e.pokemon.name||!e.pokemon.types)throw new Error("Datos de Pok\xe9mon corruptos o incompletos");if(!Array.isArray(e.pokemon.types)||0===e.pokemon.types.length)throw new Error("Datos de tipos de Pok\xe9mon corruptos");if(!Array.isArray(e.pokemon.stats)||0===e.pokemon.stats.length)throw new Error("Datos de estad\xedsticas del Pok\xe9mon corruptos")}return!0}deleteCorruptTeam(t){var e=this;return(0,v.A)(function*(){yield e.ensureInitialized(),yield e.deleteTeam(t),yield e.saveTeams()})()}}return(y=S).\u0275fac=function(t){return new(t||y)(P.KVO(w.w))},y.\u0275prov=P.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),S})()},9584:(q,j,b)=>{b.d(j,{B:()=>u});var v=b(8359);class P extends v.yU{constructor(s,o){super()}schedule(s,o=0){return this}}const w={setInterval(r,s,...o){const{delegate:a}=w;return null!=a&&a.setInterval?a.setInterval(r,s,...o):setInterval(r,s,...o)},clearInterval(r){const{delegate:s}=w;return((null==s?void 0:s.clearInterval)||clearInterval)(r)},delegate:void 0};var E=b(7908);const S={now:()=>(S.delegate||Date).now(),delegate:void 0};class _{constructor(s,o=_.now){this.schedulerActionCtor=s,this.now=o}schedule(s,o=0,a){return new this.schedulerActionCtor(this,s).schedule(a,o)}}_.now=S.now;const e=new class t extends _{constructor(s,o=_.now){super(s,o),this.actions=[],this._active=!1}flush(s){const{actions:o}=this;if(this._active)return void o.push(s);let a;this._active=!0;do{if(a=s.execute(s.state,s.delay))break}while(s=o.shift());if(this._active=!1,a){for(;s=o.shift();)s.unsubscribe();throw a}}}(class y extends P{constructor(s,o){super(s,o),this.scheduler=s,this.work=o,this.pending=!1}schedule(s,o=0){var a;if(this.closed)return this;this.state=s;const d=this.id,p=this.scheduler;return null!=d&&(this.id=this.recycleAsyncId(p,d,o)),this.pending=!0,this.delay=o,this.id=null!==(a=this.id)&&void 0!==a?a:this.requestAsyncId(p,this.id,o),this}requestAsyncId(s,o,a=0){return w.setInterval(s.flush.bind(s,this),a)}recycleAsyncId(s,o,a=0){if(null!=a&&this.delay===a&&!1===this.pending)return o;null!=o&&w.clearInterval(o)}execute(s,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const a=this._execute(s,o);if(a)return a;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(s,o){let d,a=!1;try{this.work(s)}catch(p){a=!0,d=p||new Error("Scheduled action threw falsy error")}if(a)return this.unsubscribe(),d}unsubscribe(){if(!this.closed){const{id:s,scheduler:o}=this,{actions:a}=o;this.work=this.state=this.scheduler=null,this.pending=!1,(0,E.o)(a,this),null!=s&&(this.id=this.recycleAsyncId(o,s,null)),this.delay=null,super.unsubscribe()}}});var n=b(9974),c=b(4360);function u(r,s=e){return(0,n.N)((o,a)=>{let d=null,p=null,m=null;const k=()=>{if(d){d.unsubscribe(),d=null;const f=p;p=null,a.next(f)}};function h(){const f=m+r,g=s.now();if(g<f)return d=this.schedule(void 0,f-g),void a.add(d);k()}o.subscribe((0,c._)(a,f=>{p=f,m=s.now(),d||(d=s.schedule(h,r),a.add(d))},()=>{k(),a.complete()},void 0,()=>{p=d=null}))})}}}]);